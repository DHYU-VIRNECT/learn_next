[{"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\api\\camera\\index.ts":"1","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\api\\camera\\[id].ts":"2","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\camera\\index.tsx":"3","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\camera\\[id]\\index.tsx":"4","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\index.tsx":"5","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\_app.tsx":"6","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\CameraVideo\\CameraVideo.tsx":"7","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\CameraVideo\\useCameraVideo.ts":"8","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\Loader\\Loader.tsx":"9","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\organisms\\CameraNavigation\\CameraNavigation.tsx":"10","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\organisms\\CameraPlayer\\CameraPlayer.tsx":"11","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\organisms\\NavBar\\NavBar.tsx":"12","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\organisms\\NavBar\\types.ts":"13","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\wrappers\\ErrorBoundary.tsx":"14","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\wrappers\\HOC\\WithErrorBoundary.tsx":"15","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\wrappers\\Layout.tsx":"16","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\Camera\\Camera.tsx":"17","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\ErrorFallback\\ErrorFallback.tsx":"18","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\VideoOverlay\\VideoOverlay.tsx":"19","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\organisms\\CameraNavigation\\useCameraNavigation.ts":"20"},{"size":7755,"mtime":1652084993045,"results":"21","hashOfConfig":"22"},{"size":7863,"mtime":1652157667941,"results":"23","hashOfConfig":"22"},{"size":611,"mtime":1652230613421,"results":"24","hashOfConfig":"22"},{"size":2593,"mtime":1652236972096,"results":"25","hashOfConfig":"22"},{"size":147,"mtime":1651545645698,"results":"26","hashOfConfig":"22"},{"size":1151,"mtime":1652236393995,"results":"27","hashOfConfig":"22"},{"size":767,"mtime":1652230530680,"results":"28","hashOfConfig":"22"},{"size":1556,"mtime":1652160881338,"results":"29","hashOfConfig":"22"},{"size":392,"mtime":1651568889017,"results":"30","hashOfConfig":"22"},{"size":886,"mtime":1652229238828,"results":"31","hashOfConfig":"22"},{"size":341,"mtime":1652147588573,"results":"32","hashOfConfig":"22"},{"size":601,"mtime":1652170042292,"results":"33","hashOfConfig":"22"},{"size":64,"mtime":1652170023974,"results":"34","hashOfConfig":"22"},{"size":587,"mtime":1652169670430,"results":"35","hashOfConfig":"22"},{"size":632,"mtime":1652234604082,"results":"36","hashOfConfig":"22"},{"size":232,"mtime":1651632990918,"results":"37","hashOfConfig":"22"},{"size":820,"mtime":1652081566545,"results":"38","hashOfConfig":"22"},{"size":1039,"mtime":1652236508048,"results":"39","hashOfConfig":"22"},{"size":372,"mtime":1651652293692,"results":"40","hashOfConfig":"22"},{"size":849,"mtime":1652171359156,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"vb4bn0",{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67"},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\api\\camera\\index.ts",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\api\\camera\\[id].ts",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\camera\\index.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\camera\\[id]\\index.tsx",["104"],[],"import CameraPlayer from \"../../../components/organisms/CameraPlayer/CameraPlayer\";\nimport classNames from \"classnames/bind\";\nimport styles from \"./CameraPage.module.scss\";\nimport CameraNavigation from \"../../../components/organisms/CameraNavigation/CameraNavigation\";\nimport { useDispatch } from \"react-redux\";\nimport { useRouter } from \"next/router\";\nimport { useEffect } from \"react\";\nimport { getCamera, getCameras } from \"../../../queries/useCameraQuery\";\nimport { dehydrate, QueryClient, useQuery } from \"react-query\";\nimport { setCurrentCamera } from \"../../../store/modules/currentCameraSlice\";\nimport { GetServerSideProps } from \"next\";\nimport WithErrorBoundary, {\n  OnErrorProps,\n} from \"../../../components/wrappers/HOC/WithErrorBoundary\";\nimport ErrorFallback from \"../../../components/atoms/ErrorFallback/ErrorFallback\";\nimport axios from \"axios\";\nimport { setCameras } from \"../../../store/modules/camerasSlice\";\n\nconst cx = classNames.bind(styles);\n\nconst CameraPage = () => {\n  useCameraPage();\n\n  return (\n    <div className={cx(\"container\")}>\n      <CameraPlayer />\n      <CameraNavigation />\n    </div>\n  );\n};\n\nconst useCameraPage = () => {\n  const dispatch = useDispatch();\n  const { query } = useRouter();\n  const { id } = query;\n\n  const { data } = useQuery([\"camera\", id], () => getCameraQuery(id));\n  const { data: cameras } = useQuery(\"cameras\", getCameras);\n\n  useEffect(() => {\n    dispatch(setCurrentCamera(data));\n    dispatch(setCameras(cameras));\n  }, [data, dispatch]);\n};\n\nconst getCameraQuery = (id: string | string[] | undefined) => {\n  if (!id) return null;\n  return getCamera(+id);\n};\n\nexport const getServerSideProps: GetServerSideProps = async (context) => {\n  const {\n    query: { id },\n  } = context;\n  const queryClient = new QueryClient();\n  try {\n    await queryClient.fetchQuery([\"camera\", id], () => getCameraQuery(id));\n    //used fetchQuery instead of prefetchQuery to catch fetching errors\n\n    return {\n      props: {\n        dehydratedState: dehydrate(queryClient),\n      },\n    };\n  } catch (error) {\n    if (!axios.isAxiosError(error) || !error.response) {\n      return {\n        props: {},\n      };\n    }\n    return {\n      props: {\n        errorCode: error.response.status,\n      },\n    };\n  }\n};\n\nconst OnError = ({ errorCode }: OnErrorProps) => {\n  const errorMessages = {\n    403: \"해당 카메라에 접근 권한이 없습니다\",\n    404: \"해당 카메라를 찾을 수 없습니다\",\n  };\n  return <ErrorFallback errorMessages={errorMessages} errorCode={errorCode} />;\n};\n\nexport default WithErrorBoundary(CameraPage, OnError);\n","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\index.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\pages\\_app.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\CameraVideo\\CameraVideo.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\CameraVideo\\useCameraVideo.ts",["105","106","107"],[],"import { useCallback, useEffect, useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { currentCameraSelector } from \"../../../store/modules/currentCameraSlice\";\n\nexport const useCameraVideo = () => {\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [errorMessage, setErrorMessage] = useState<string>();\n  const videoRef = useRef<HTMLVideoElement>(null);\n  const currentCamera = useSelector(currentCameraSelector);\n\n  useEffect(() => {\n    if (!videoRef.current) return;\n    if (!currentCamera) {\n      setErrorMessage(\"해당 카메라를 찾을 수 없습니다\");\n    }\n    setErrorMessage(\"\");\n    loadVideo();\n  }, [currentCamera]);\n\n  const loadVideo = useCallback(async () => {\n    const mediaDevices = navigator.mediaDevices;\n    try {\n      const stream = await mediaDevices.getUserMedia({\n        video: true,\n      });\n      playVideo(stream);\n    } catch (error) {\n      handleVideoLoadFail();\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  const playVideo = useCallback(\n    (stream: MediaStream) => {\n      const video = videoRef.current as HTMLVideoElement;\n      video.muted = true;\n      video.srcObject = stream;\n      video.onloadedmetadata = () => {\n        video.play();\n      };\n    },\n    [videoRef.current]\n  );\n\n  const handleVideoLoadFail = useCallback(() => {\n    setErrorMessage(\"장비 혹은 권한 문제로 영상을 재생할 수 없습니다\");\n  }, []);\n\n  return {\n    videoRef,\n    isLoading,\n    errorMessage,\n    cameraNum: currentCamera?.num,\n  };\n};\n","C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\Loader\\Loader.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\organisms\\CameraNavigation\\CameraNavigation.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\organisms\\CameraPlayer\\CameraPlayer.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\organisms\\NavBar\\NavBar.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\organisms\\NavBar\\types.ts",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\wrappers\\ErrorBoundary.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\wrappers\\HOC\\WithErrorBoundary.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\wrappers\\Layout.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\Camera\\Camera.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\ErrorFallback\\ErrorFallback.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\atoms\\VideoOverlay\\VideoOverlay.tsx",[],[],"C:\\Users\\버넥트\\Documents\\GitHub\\learn_next\\components\\organisms\\CameraNavigation\\useCameraNavigation.ts",[],[],{"ruleId":"108","severity":1,"message":"109","line":43,"column":6,"nodeType":"110","endLine":43,"endColumn":22,"suggestions":"111"},{"ruleId":"108","severity":1,"message":"112","line":18,"column":6,"nodeType":"110","endLine":18,"endColumn":21,"suggestions":"113"},{"ruleId":"108","severity":1,"message":"114","line":32,"column":6,"nodeType":"110","endLine":32,"endColumn":8,"suggestions":"115"},{"ruleId":"108","severity":1,"message":"116","line":43,"column":5,"nodeType":"110","endLine":43,"endColumn":23,"suggestions":"117"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'cameras'. Either include it or remove the dependency array.","ArrayExpression",["118"],"React Hook useEffect has a missing dependency: 'loadVideo'. Either include it or remove the dependency array.",["119"],"React Hook useCallback has missing dependencies: 'handleVideoLoadFail' and 'playVideo'. Either include them or remove the dependency array.",["120"],"React Hook useCallback has an unnecessary dependency: 'videoRef.current'. Either exclude it or remove the dependency array. Mutable values like 'videoRef.current' aren't valid dependencies because mutating them doesn't re-render the component.",["121"],{"desc":"122","fix":"123"},{"desc":"124","fix":"125"},{"desc":"126","fix":"127"},{"desc":"128","fix":"129"},"Update the dependencies array to be: [cameras, data, dispatch]",{"range":"130","text":"131"},"Update the dependencies array to be: [currentCamera, loadVideo]",{"range":"132","text":"133"},"Update the dependencies array to be: [handleVideoLoadFail, playVideo]",{"range":"134","text":"135"},"Update the dependencies array to be: []",{"range":"136","text":"137"},[1484,1500],"[cameras, data, dispatch]",[644,659],"[currentCamera, loadVideo]",[984,986],"[handleVideoLoadFail, playVideo]",[1251,1269],"[]"]